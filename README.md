# E小瞳
**QQ机器人,有一些功能,代码像shit**

## 1.现在支持的功能有

+ 整点报时

    1. 开启整点报时
        格式：启动整点报时
    2. 关闭整点报时
        格式：关闭整点报时

+ 群聊增强

    1. 禁言群成员
        格式：禁言 【@xxx】 【x分钟】/【随机时间】
        例如：禁言 @洪博晖 30分钟
    2. 解除禁言
        格式：解除禁言 【@xxx】 
        例如：解除禁言 @洪博晖 
    3. 自动回复问候语
        例如：早上好
    4. 智能聊天
        需要先开启聊天模式
        开启命令：启动聊天模式
        关闭命令：关闭聊天模式

+ 天气

    1. 例如:查一下西安的天气

+ 图书馆抢座

    

    1. 状态查询
        作用:显示当前图书馆各自习室人数
        格式：状态查询

    以下功能需要先私聊机器人,发送:图书馆

    1. 我的当前状态
        作用：显示你的图书馆预约最新状态
        格式：预约状态 
    2. 抢座
        作用:自动抢座(如果检测到有座位直接抢)
        格式:抢座
    3. 取消预约
        作用:取消当前预约的座位
        格式：取消预约

+ 设备借还登记

    1. 添加设备（仅限管理员）
        格式：添加 【设备】 x【数量】
        例如：添加 王岳龙 x1
    2. 删除设备（仅限管理员）
        格式：删除 【设备】 x【数量】
        例如：删除 王岳龙 x1
    3. 查看设备
        格式：查看设备列表
    4. 查看日志（所有操作记录）
        格式：查看日志
    5. 借出设备
        格式：借出 【设备】 x【数量】
        例如：借出 王岳龙 x1
    6. 归还设备
        格式：还回 【设备】 x【数量】
        例如：还回 王岳龙 x1
    7. 查看我的清单（借还记录）
        格式：查看我的清单
    8. 查看群成员清单（仅限管理员）
        格式：查看清单 【@xxx】
        例如：查看清单 @洪博晖
    9. 清空所有记录（仅限超级用户）
        格式:清空所有记录

## 2.部署须知

由于开发时情况比较混乱,项目整体构成为

`nonebot`(提供反向ws) + `go-cqhttp`(CQ客户端) + `flask`(提供抢座所需接口) + `httpserver`(提供跨服务器图片发送)

其中`mybot`文件夹为机器人核心代码,`get_seat_flask`为`flask`代码

部署时需要修改相关服务的端口号和url中的ip地址,能不能部署成功随缘吧

## 3.使用须知

开发此机器人纯属娱乐需要,抢座功能只能运行在西安交通大学内网环境中,相关代码仅仅经过了轻度封装,没有提取配配置文件,后续(不太)可能进行相关优化改进,(更不可能)封装成Docker

如果使用过程中遇到问题不要`Issue`,因为懒得看和改代码了